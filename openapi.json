{"openapi":"3.1.0","info":{"title":"Intellpulse API","version":"0.2.7"},"paths":{"/admin/plan":{"post":{"summary":"Admin Plan Upsert","operationId":"admin_plan_upsert_admin_plan_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminPlanUpsertRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminPlanResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"Admin Plan Get","operationId":"admin_plan_get_admin_plan_get","parameters":[{"name":"api_key","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key"}},{"name":"key_hash","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Key Hash"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminPlanResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/signal":{"get":{"summary":"Get Signal","operationId":"get_signal_signal_get","parameters":[{"name":"asset","in":"query","required":false,"schema":{"type":"string","default":"BTC-USD","title":"Asset"}},{"name":"mode","in":"query","required":false,"schema":{"enum":["price_only","combined"],"type":"string","default":"combined","title":"Mode"}},{"name":"explain","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Explain"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/signal/explain":{"get":{"summary":"Get Signal Explain","operationId":"get_signal_explain_signal_explain_get","parameters":[{"name":"asset","in":"query","required":false,"schema":{"type":"string","default":"BTC-USD","title":"Asset"}},{"name":"mode","in":"query","required":false,"schema":{"enum":["price_only","combined"],"type":"string","default":"combined","title":"Mode"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/debug/cache/read":{"get":{"summary":"Debug Cache Read","operationId":"debug_cache_read_debug_cache_read_get","parameters":[{"name":"asset","in":"query","required":false,"schema":{"type":"string","default":"BTC-USD","title":"Asset"}},{"name":"mode","in":"query","required":false,"schema":{"type":"string","default":"combined","title":"Mode"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/backtest":{"get":{"summary":"Backtest","operationId":"backtest_backtest_get","parameters":[{"name":"asset","in":"query","required":false,"schema":{"type":"string","default":"BTC-USD","title":"Asset"}},{"name":"mode","in":"query","required":false,"schema":{"enum":["price_only","combined"],"type":"string","default":"combined","title":"Mode"}},{"name":"fee_bps","in":"query","required":false,"schema":{"type":"number","default":10.0,"title":"Fee Bps"}},{"name":"slippage_bps","in":"query","required":false,"schema":{"type":"number","default":5.0,"title":"Slippage Bps"}},{"name":"annualization","in":"query","required":false,"schema":{"type":"integer","default":8760,"title":"Annualization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BacktestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AdminPlanResponse":{"properties":{"key_hash":{"type":"string","title":"Key Hash"},"pk":{"type":"string","title":"Pk"},"plan":{"type":"string","title":"Plan"},"daily_limit":{"type":"integer","title":"Daily Limit"},"updated_at":{"type":"string","title":"Updated At"}},"type":"object","required":["key_hash","pk","plan","daily_limit","updated_at"],"title":"AdminPlanResponse"},"AdminPlanUpsertRequest":{"properties":{"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key"},"key_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Key Hash"},"plan":{"type":"string","title":"Plan","default":"free"},"daily_limit":{"type":"integer","title":"Daily Limit","default":200},"note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Note"}},"type":"object","title":"AdminPlanUpsertRequest"},"BacktestPoint":{"properties":{"t":{"type":"string","title":"T"},"equity":{"type":"number","title":"Equity"}},"type":"object","required":["t","equity"],"title":"BacktestPoint"},"BacktestResponse":{"properties":{"asset":{"type":"string","title":"Asset"},"mode":{"type":"string","title":"Mode"},"bar_interval":{"type":"string","title":"Bar Interval","default":"1h"},"rows":{"type":"integer","title":"Rows"},"signal_col":{"type":"string","title":"Signal Col"},"fee_bps":{"type":"number","title":"Fee Bps"},"slippage_bps":{"type":"number","title":"Slippage Bps"},"annualization":{"type":"integer","title":"Annualization"},"total_return":{"type":"number","title":"Total Return"},"volatility":{"type":"number","title":"Volatility"},"sharpe":{"type":"number","title":"Sharpe"},"max_drawdown":{"type":"number","title":"Max Drawdown"},"trades":{"type":"integer","title":"Trades"},"win_rate":{"type":"number","title":"Win Rate"},"equity_end":{"type":"number","title":"Equity End"},"equity_points":{"items":{"$ref":"#/components/schemas/BacktestPoint"},"type":"array","title":"Equity Points"},"buy_hold_total_return":{"type":"number","title":"Buy Hold Total Return"},"buy_hold_max_drawdown":{"type":"number","title":"Buy Hold Max Drawdown"},"buy_hold_equity_end":{"type":"number","title":"Buy Hold Equity End"}},"type":"object","required":["asset","mode","rows","signal_col","fee_bps","slippage_bps","annualization","total_return","volatility","sharpe","max_drawdown","trades","win_rate","equity_end","equity_points","buy_hold_total_return","buy_hold_max_drawdown","buy_hold_equity_end"],"title":"BacktestResponse"},"ExplainBlock":{"properties":{"summary":{"type":"string","title":"Summary"},"facts":{"type":"object","title":"Facts"}},"type":"object","required":["summary"],"title":"ExplainBlock"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"SignalResponse":{"properties":{"asset":{"type":"string","title":"Asset"},"mode":{"type":"string","title":"Mode"},"latest_timestamp":{"type":"string","title":"Latest Timestamp"},"latest_signal":{"type":"integer","title":"Latest Signal"},"latest_signal_text":{"type":"string","enum":["BUY","HOLD","SELL"],"title":"Latest Signal Text"},"latest_sentiment":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latest Sentiment"},"cached_at_utc":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cached At Utc"},"explain":{"anyOf":[{"$ref":"#/components/schemas/ExplainBlock"},{"type":"null"}]}},"type":"object","required":["asset","mode","latest_timestamp","latest_signal","latest_signal_text"],"title":"SignalResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}